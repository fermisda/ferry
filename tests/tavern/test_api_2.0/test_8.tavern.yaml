#Tests set/get user access to compute resource
test_name: test 1 setUserAccessToComputeResource
stages: 
 - name: testing setUserAccessToComputeResource
   request:
      url: https://fermicloud033.fnal.gov:8443/setUserAccessToComputeResource?resourcename=fife-admin&username=tlevshin&groupname=g150
      method: GET
   response:
      status_code: 200
      body:
             ferry_status: "success"
             ferry_error: []
             ferry_output: null

---
test_name: test 2 
stages:
 - name: "testing  setUserAccessToComputeResource: change default setting"
   request:
      url: https://fermicloud033.fnal.gov:8443/setUserAccessToComputeResource?resourcename=fife-admin&username=tlevshin&groupname=g022&shell=/bin/ksh&primary=false
      method: GET
   response:
      status_code: 200
      body:
             ferry_status: "success"
             ferry_error: []
             ferry_output: null

---

test_name: test 3 
stages:
 - name: "testing setUserAccessToComputeResource for failure: username not found"
   request:
      url: https://fermicloud033.fnal.gov:8443/setUserAccessToComputeResource?resourcename=fife-admin&username=tlevshinX&groupname=g150
      method: GET
   response:
      status_code: 200
      body:
             ferry_status: "failure"
             ferry_error: 
                - "username not found"
             ferry_output: null

---
test_name: test 4 
stages:
 - name: "testing setUserAccessToComputeResource for multiple failures"
   request:
      url: https://fermicloud033.fnal.gov:8443/setUserAccessToComputeResource?resourcename=fife-adminX&username=tlevshin&groupname=g150X
      method: GET
   response:
      status_code: 200
      body:
             ferry_status: "failure"
             ferry_error:
                - "groupname not found" 
                - "resourcename not found" 
             ferry_output: null

---
test_name: test 5 getUserAccessToComputeResource
stages:
 - name: testing getUserAccessToComputeResource
   request:
      url: https://fermicloud033.fnal.gov:8443/getUserAccessToComputeResources?username=tlevshin
      method: GET
   response:
      status_code: 200
      body:
             ferry_status: "success"
             ferry_error: []
             ferry_output: 
                - {"homedir": "/nashome/t/tlevshin","resourcename": "fife-admin","resourcetype": "Interactive","shell": "/bin/ksh"}
                - {"homedir": "/uscms/home/tlevshin","resourcename": "lpcinteractive","resourcetype": "Interactive","shell": "/bin/tcsh"}
                - {"homedir": "/home/s1/tlevshin","resourcename": "eag","resourcetype": "Interactive","shell": "/bin/tcsh"}
                - {"homedir": "/nashome/t/tlevshin","resourcename": "dune","resourcetype": "Interactive","shell": "/bin/bash"}
                - {"homedir": "/nashome/t/tlevshin","resourcename": "genie","resourcetype": "Interactive","shell": "/bin/bash"}
                - {"homedir": "/nashome/t/tlevshin","resourcename": "e938","resourcetype": "Interactive","shell": "/bin/bash"}
                - {"homedir": "/nashome/t/tlevshin","resourcename": "mu2e","resourcetype": "Interactive","shell": "/bin/bash"}
                - {"homedir": "/nashome/t/tlevshin","resourcename": "nova","resourcetype": "Interactive","shell": "/bin/bash"}
                - {"homedir": "/nashome/t/tlevshin","resourcename": "microboone","resourcetype": "Interactive","shell": "/bin/bash"}
                - {"homedir": "/nashome/t/tlevshin","resourcename": "lbne","resourcetype": "Interactive","shell": "/bin/bash"}
                - {"homedir": "/nashome/t/tlevshin","resourcename": "lsst","resourcetype": "Interactive","shell": "/bin/bash"}
                - {"homedir": "/nashome/t/tlevshin","resourcename": "scs","resourcetype": "Interactive","shell": "/bin/bash"}
                - {"homedir": "/home/tlevshin","resourcename": "fermi_workers","resourcetype": "Batch","shell": "/sbin/nologin"}
                - {"homedir": "/home/tlevshin","resourcename": "fermigrid","resourcetype": "Batch","shell": "/sbin/nologin"}
                - {"homedir": "/nashome/t/tlevshin","resourcename": "ebd","resourcetype": "Interactive","shell": "/bin/bash"}
                - {"homedir": "/nashome/t/tlevshin","resourcename": "pip-ii","resourcetype": "Interactive","shell": "/bin/bash"}


